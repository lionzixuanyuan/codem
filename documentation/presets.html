---
title: Presets
layout: application
---
<div class="page-header">
  <h1>Presets</h1>
</div>

<h2>Overview</h2>
<p>
  A Preset represents command line options to ffmpeg, via the Transcoders. Read more about ffmpeg's parameters <a href="http://www.ffmpeg.org/ffmpeg-doc.html" rel="external">here</a>.
</p>

<p>
  To create a preset via the API, use the following command:
</p>
{% highlight bash %}
 $ curl -d 'name=webm&parameters=params' http://localhost:3000/api/presets
{% endhighlight %}
<p>
  The Scheduler will respond with something like:
</p>
{% highlight bash %}
{
  "preset":
  {
    "created_at":"2011-05-10T14:44:07Z",
    "id":3,
    "name":"webm",
    "parameters": "params",
    "thumbnail_options": null,
    "updated_at":"2011-05-10T14:44:07Z"}
  }
}
{% endhighlight %}
<p>
  For more information, see the API documentation of the Scheduler <a href="http://rubydoc.info/github/madebyhiro/codem-schedule/master/frames" rel="external">here</a>.
</p>

<h2>Thumbnail options</h2>
<p>
It's possible to automatically generate thumbnails while transcoding the input file. These options can be specified for each preset, and use the following syntax:
</p>

<ul>
	<li>Either "percentages" or "seconds" (but not both at the same time), valid options are:</li>
	<ul>
		<li><p>A single percentage, this will trigger a thumbnail every x.{% highlight bash %}thumbnail_options: { percentages: 0.1 }{% endhighlight %} will generate thumbnails at 0%, 10%, 20%, [...], 100%.</p></li>
		<li><p>An array of explicit percentages, this will trigger thumbnails only at the specified positions.{% highlight bash %}thumbnail_options: { percentages: [0.25, 0.5, 0.75] }{% endhighlight %} will generate thumbnails at 25%, 50% and 75%.</p></li>
		<li>A single offset in seconds, this will trigger a thumbnail every x seconds.{% highlight bash %}thumbnail_options: { seconds: 10 }{% endhighlight %} will generate thumbnails at 0 seconds, 10 seconds, 20 seconds, etc., until the end of the source file.</li>
		<li><p>An array of explicit offsets, this will trigger thumbnails only at the specified positions.{% highlight bash %}thumbnail_options: { seconds: [30, 60, 90] }{% endhighlight %} will generate thumbnails at 30 seconds, 60 seconds and 90 seconds.</p></li>
	</ul>
	<li>A size can be specified in pixels (width x height). If omitted it will generate thumbnails the size of the source video. (optional)</li>
	<li>A format for the thumbnails. The format must be supported by your ffmpeg binary. If omitted it will generate thumbnails in the JPEG format. Most people will use either "jpg" or "png". (optional)
	</li>
</ul>		

<p>
If you specify thumbnails but an error occurs during generation, your job will be marked as failed. If you don't specify a valid seconds or percentages option thumbnail generation will be skipped but the job can still be completed successfully.
</p>